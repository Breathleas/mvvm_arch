
## Linux标准


    C编程语言标准
    UNIX标准：POSIX标准（IEEE开发）、单一UNIX规范（开放组织开发，Open Group）
    标准的Linux文件系统布局：由自由标准组织（Free Standard Group）所做，特别是Linux标准化规范（Linux Standard Base）

#### C编程语言

    ANSI C编程语言标准X3.159-1989（在1989年发表），简称为C89，或C90
    C90称为ISO C编程语言标准ISO/IEC 9899:1990
    C9X，1993年制定
    C99，在20世纪90年代出现
    C99标准被ISO标准采纳，称为ISO/IEC 9899:1999
    
    GNU编译器集：
        完全免费的C语言编译器gcc，第一个正式版发表于1987年
        gcc已支持C++、Object-C、FORTRAN、Java等
        gcc.gnu.org
    
    gcc选项：
        一些选项可以确保编写的C程序是完全遵守标准的
        用可以控制标准版本的选项来指定期望代码兼容的标准版本
        定义用来控制头文件的常量
        用警告选项对代码进行更严格的检查
        完整的选项列表可以在gcc手册页找到
        一些#define选项，通常必须在源代码中任何#include语句之前设置或在gcc命令行上定义
        
        控制标准版本的编译选项：
            -ansi，告诉编译器遵守C语言的ISO C90标准，或指向的标准已改变？
            -std=，对使用的标准进行更精细地控制，通过使用一个参数来设置需要的标准，选项有：
                c89，c89标准；  iso9899:1999； gnu89等
        控制标准版本的常量：
            常量（#define）可以通过命令行选项来设置
            __STRICT_ANSI__，强制使用C语言ISO标准，在使用-ansi时被定义
            _POSIX_C_SOURCE=2，启用IEEE Std 1003.1 1003.2标准定义的特性
            _BSD_SOURCE，启用BSD类型的特性，冲突时以BSD为准
            _GNU_SOURCE，启用大量特性，包括GNU扩展，与POSIX冲突时，以POSIX为准
        编译器的警告选项：
            -pedantic，用于检查C语言代码的最强大的编译器选项，启用用于检查代码是否遵守C语言标准，关闭一些不被标准允许的传统C语言结构，禁用所有的GNU扩展（使代码尽可能地可移植时使用）
            -Wformat，检查printf系列函数所使用的参数类型是否正确
            -Wparentheses，检查是否总是提供了需要的圆括号，对检查一个复杂结构的初始化是否按照预期进行时很有用
            -Wswitch-default，检查是否所有switch语句都包含一个default case
            -Wunused，检查诸如声明静态函数但没有定义、未使用的参数和丢弃返回结果等情况
            -Wall，启用绝大多数gcc的警告选项，包括所有以-W为前缀的选项，对保持代码整洁很有用

#### 接口和LSB

    比C语言代码高一个层次的由操作系统提供的接口（系统函数）
    两个组件：由函数库提供的函数和由底层操作系统提供的系统调用
    针对Linux的权威性文档是LSB
    Linux标准化规范定义的需要遵守的领域：
        核心，主要的函数库、工具和一些重要的文件系统位置
        C++，C++函数库
        桌面，用于桌面安装的其他文件，主要是各种图形库
    
    LSB标准函数库：
        LSB定义了必须以两种方式呈现的接口
        对于主要由GNU C函数库实现的或试图称为Linux专属标准的函数，它定义接口及其行为
        对于主要来自UNIX系统的其他接口，规范只是说明必须存在一个特定接口，并且该接口的行为必须与其他标准定义的一样
        UNIX System V，UNIX商业化的最流行的一个版本
        
        POSIX标准（又被称为IEEE 1003标准），1988年IEEE发表第一个POSIX标准
        X/OPEN CAE（公共应用环境）规范
        X/OPEN与OSF合并成立 Open Group
        单一UNIX规范，是在CAE标准上更新的
        
        针对函数库使用LSB标准：
            主要是用于可移植
            apropos命令来搜索在线手册页
            
        LSB用户和组：
            一定不能直接读取如/etc/passwd这样的文件，而是使用如getpwent这样的标准库函数调用或passwd这样的标准工具来访问用户详细信息
            root不能在标准应用程序中使用
            用户ID小于100的账户是系统账号，100到499是由系统管理员和安装脚本后分配的，500及其以上用于普通用户
            
        LSB系统初始化：
            运行级别定义了在不同级别中允许启动的服务
            运行级别：
                0，停止，用作一种可以在系统关闭时切换到的逻辑状态
                1，单用户模式，非根目录的其他目录可能不会被装载，网络功能被禁用，通常用于系统维护
                2，多用户模式，但未启用网络功能
                3，正常带网络的多用户模式，使用文本模式的登录界面
                4，保留
                5，正常带网络功能的多用户模式，使用图形登录界面
                6，用于重启系统的伪运行级别
            
            一组用于启动、关闭和重启服务的初始化脚本，一般放在目录 /etc/init.d或 /etc/rc.d/init.d下
            LSB将初始化脚本放置的目录定义为/etc/init.d
            每个脚本都有一个与其提供的服务相关联的名字
            Linux分配名字和数字机构（Linux Assigned Names And Numbers Authority，LANANA）
            初始化脚本必须用一个参数来控制它的行为：
                start，启用（或重启）服务
                stop，停止服务
                restart，重启服务，先停止服务再重启服务的方式
                reload，重置服务，不停止服务的情况下重新装载所有的参数，并不是所有服务都支持这个选项
                force-reload，如果支持就重载，否则，重启服务
                status，以文本方式打印服务的状态信息，并返回一个可以用来确定服务状态的状态码
            命令成功返回0，失败返回错误码

#### 文件系统层次结构标准

    文件系统层次结构标准（Filesystem Hierarchy Standard，FHS）
    定义Linux文件系统的标准路径
    将文件和目录分组：
        对运行Linux的某一特定系统唯一的文件和目录，如启动脚本和配置文件
        可以在运行Linux的不同系统之间共享的只读文件和目录，如可执行应用程序
        可以在运行Linux或其他操作系统的不同系统之间共享的可读可写的目录，如用户家目录
    
    FHS定义的顶级结构包含一些必须存在的子目录和一小部分可选目录：
        /bin，       必需，重要的系统二进制文件
        /boot，      必需，启动系统所需要的文件
        /dev，       必需，设备文件
        /etc，       必需，系统配置文件
        /home，      可选，用于放置用户文件的目录
        /lib，       必需，标准函数库
        /media，     必需，用于装载可移动媒体的位置，针对每一个系统支持的媒体类型都有一个单独的子目录
        /mnt，       必需，方便临时装载如CD-ROM等设备的目录
        /opt，       必需，其他应用程序软件
        /root，      可选，root用户的文件
        /sbin，      必需，系统启动时需要的重要的系统二进制文件
        /srv，       必需，用于系统提供的服务的只读数据
        /tmp，       必需，临时文件
        /usr，       必需，第二级的目录层次，用户文件也可以放置在这个目录下
        /var，       必需，可变的数据，如日志文件
    
    /lost+found，用于fsck命令进行文件系统的恢复
    /proc，伪文件系统，提供了对当前运行系统的一个映射
    
    /bin，包含可以被root和普通用户使用的二进制文件，都可以在单用户模式下运行
    /boot，放置启动Linux系统时所需要使用的文件，文件长度不超过100MB，通常为这个目录单独划分一个分区
    /dev，放置的是映射到硬件的特殊设备文件，如/dev/hda映射到第一个IDE磁盘
    /etc，放置配置文件，如fstab（列出分区装载选项）、hosts（列出IP地址和主机名的映射）、httpd目录（包含Apache服务器的配置文件）
    /home，放置用户文件
    /lib，放置基本的共享函数库和内核模块，特别是在系统启动或系统位于单用户模式时需要用到的文件
    /media，用于包含装载可移动媒体的其他子目录，消除不必要的顶级目录，如 /cdrom、/floppy
    /mnt，只是用来方便用户临时装载一些其他的文件系统
    /opt，第三方厂商安装应用软件的目录
    大多数开源软件包将目录/usr/local作为安装点
    /root，放置root用户使用的文件
    /sbin，放置的是通常只能由系统管理员使用的命令，以及在系统启动或进入单用户模式时需要使用的命令，fsck、halt、swapon等
    /srv，放置站点特定的只读配置数据，目前未被普遍使用
    /tmp，放置临时文件，系统通常会在启动时清理这个目录
    /usr，相当复杂的二级文件系统，通常将包含除在系统启动或进入单用户模式所需要的文件以外的所有系统类的命令和函数库，包含许多子目录，/bin、/lib、/local等
    /var，放置的数据经常改变，如用于打印的队列文件、日志文件、邮件队列目录等
    
    openi18n，国际化标准
    autoconf、automake工具
